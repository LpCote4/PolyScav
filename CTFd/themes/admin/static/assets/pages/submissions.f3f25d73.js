import{$ as e,u as l,z as c,C as r}from"./main.94eed86b.js";import{s as f}from"../visual.b8511915.js";window.carouselPosition=0;window.carouselMax=0;function g(o){const t=e(this).data("submission-id"),i=e(this).parent().parent(),s=i.find(".chal").text().trim(),n=i.find(".team").text().trim(),a=e(this).parent().parent();l({title:"Delete Submission",body:"Are you sure you want to delete correct submission from {0} for challenge {1}".format("<strong>"+c(n)+"</strong>","<strong>"+c(s)+"</strong>"),success:function(){alert({submissionId:t}),r.api.delete_submission({submissionId:t}).then(function(d){d.success&&a.remove()})}})}function h(o){let t=e("input[data-submission-id]:checked").map(function(){return e(this).data("submission-id")}),i=t.length===1?"submission":"submissions";l({title:"Delete Submissions",body:`Are you sure you want to delete ${t.length} ${i}?`,success:function(){const s=[];for(var n of t)s.push(r.api.delete_submission({submissionId:n}));Promise.all(s).then(a=>{window.location.reload()})}})}function b(o){let t=e("input[data-submission-id]:checked").map(function(){return e(this).data("submission-id")}),i=t.length===1?"submission":"submissions";l({title:"Correct Submissions",body:`Are you sure you want to mark ${t.length} ${i} correct?`,success:function(){const s=[];for(var n of t){let a=r.fetch(`/api/v1/submissions/${n}`,{method:"PATCH",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({type:"correct"})});s.push(a)}Promise.all(s).then(a=>{window.location.reload()})}})}function u(o){const t=new URLSearchParams(window.location.search);t.has("full")?t.delete("full"):t.set("full","true"),window.location.href=`${window.location.pathname}?${t.toString()}`}function p(o){let t=e(o.currentTarget),i=t.find("i"),s=t.parent().find("pre");s.hasClass("full-flag")?(s.text(s.attr("title").substring(0,42)+"..."),s.removeClass("full-flag"),i.addClass("fa-eye"),i.removeClass("fa-eye-slash")):(s.text(s.attr("title")),s.addClass("full-flag"),i.addClass("fa-eye-slash"),i.removeClass("fa-eye"))}function w(o){let s=e(o.currentTarget).parent().find("pre").attr("title");navigator.clipboard.writeText(s),e(o.currentTarget).tooltip({title:"Copied!",trigger:"manual"}),e(o.currentTarget).tooltip("show"),setTimeout(function(){e(o.currentTarget).tooltip("hide")},1500)}e(()=>{e("#show-full-flags-button").click(u),e("#show-short-flags-button").click(u),e(".show-flag").click(p),e(".copy-flag").click(w),e("#correct-flags-button").click(b),e(".delete-correct-submission").click(g),e("#submission-delete-button").click(h)});let m=document.getElementsByClassName("imageContainer");for(let o=0;o<m.length;o++)f(m[o]);
